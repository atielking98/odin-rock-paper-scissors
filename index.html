<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Page Title</title>
</head>
<body>
  <script>
    const CHOICES = ['rock', 'paper', 'scissors'];

    function getComputerChoice() {
        let randElement = CHOICES[Math.floor(Math.random() * CHOICES.length)];
        return randElement;
    }

    function playRound(playerSelection, computerSelection) {
        switch (playerSelection) {
            case "rock": 
                switch (computerSelection) {
                    case "rock": 
                        return "Tie";
                    case "scissors": 
                        return "You Win! Rock beats Scissors";
                    case "paper": 
                        return "You Lose! Paper beats Rock";
                }
            case "scissors":
                switch (computerSelection) {
                    case "rock": 
                        return "You Lose! Rock beats Scissors";
                    case "scissors": 
                        return "Tie";
                    case "paper": 
                        return "You Win! Scissors beats Paper";
                } 
            case "paper": 
                switch (computerSelection) {
                    case "rock": 
                        return "You Win! Paper beats Rock";
                    case "scissors": 
                        return "You Lose! Scissors beats Paper";
                    case "paper": 
                        return "Tie";
                } 
            default: 
                return "";
        }
    }

    let compScore = 0, playerScore = 0;
    for (let i = 0; i < 5; i++) {
        let playerSelection = prompt(
            "Pick rock, paper or scissors"
        ).toLowerCase();
        while (!CHOICES.includes(playerSelection)) {
            playerSelection = prompt(
                "Invalid choice. Pick rock, paper or scissors"
            ).toLowerCase();
        }
        let computerSelection = getComputerChoice();
        let result = playRound(playerSelection, computerSelection);
        console.log(result);
        if (result.startsWith("You Win!")) {
            playerScore += 1;
        } else if(result.startsWith("You Lose!")) {
            compScore += 1;
        } else if(result.startsWith("Tie")) {
            playerScore += 1;
            compScore += 1;
        }
    }

    if (playerScore > compScore) {
        console.log("Congratulations. You won!");
    } else if (compScore > playerScore) {
        console.log("Oh no! You lost.");
    } else {
        console.log("Wow! It's a tie.");
    }
  </script>
</body>
</html>